(function(){"use strict";var e={7010:function(e,t,n){var l=n(5130),i=n(6768),a=n(144),o=(n(4114),n(8111),n(2489),n(116),n(1701),n(3579),n(4232)),s=n(3230);const r=(0,a.KR)([]),u=(0,a.KR)({llama_Synopsis:1,audio:1,"vidéo":1}),c={class:"cell-content"},d={class:"serie-title"},p=["src"],v=["onClick"],m=["onUpdate:modelValue"];var h={__name:"Home",setup(e){const t=(0,a.KR)([]);let n=(0,a.KR)("");const u=async e=>{try{const n=await fetch(e),l=await n.arrayBuffer(),i=s.LF(l,{type:"array"});if(!i.SheetNames||0===i.SheetNames.length)throw new Error("Le fichier Excel ne contient aucune feuille.");const a=i.SheetNames[0],o=i.Sheets[a];if(!o)throw new Error("La feuille Excel est vide ou invalide.");const r=await h();t.value=s.Wp.sheet_to_json(o).map(((e,t)=>{const n=r.find((t=>t.name===e["name"]));return{id:t,name:e["name"],description:n?n.description:"Description non disponible",image:n?n.image:"Image non disponible",checked:!1,deleted:!1,modified:!1}}))}catch(n){console.error("Erreur lors du chargement du fichier Excel :",n)}},h=async()=>{try{const e=await fetch("/RECO/data/Series.json"),t=await e.json();return t}catch(e){return console.error("Erreur lors du chargement de Series.json :",e),[]}},f=()=>{const e=t.value.filter((e=>Object.values(e).some((e=>String(e).toLowerCase().includes(n.value.toLowerCase())))));t.value=e},k=()=>{r.value=t.value.filter((e=>e.checked)),r.value.length>0?alert("Séries sélectionnées : "+r.value.map((e=>e["name"])).join(", ")):alert("Aucune série sélectionnée")},L=e=>{e.name&&e.description?alert(`Description de "${e.name}": ${e.description}`):alert("Les informations de la série sont incomplètes.")};(0,i.sV)((()=>{u("/RECO/data/characteristics.csv")}));const g=(0,i.EW)((()=>{const e=t.value.filter((e=>!e.deleted)),n=[];for(let t=0;t<e.length;t+=5)n.push(e.slice(t,t+5));return n}));return(e,s)=>((0,i.uX)(),(0,i.CE)(i.FK,null,[s[5]||(s[5]=(0,i.Lk)("h2",null,"Liste des séries",-1)),(0,i.Lk)("form",{onSubmit:(0,l.D$)(k,["prevent"])},[(0,i.bo)((0,i.Lk)("input",{type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=e=>k=e)},null,512),[[l.lH,k]]),s[2]||(s[2]=(0,i.Lk)("label",null,"Afficher les séries sélectionnées",-1)),s[3]||(s[3]=(0,i.Lk)("button",{type:"submit"},"Afficher",-1))],32),(0,i.Lk)("form",{onSubmit:(0,l.D$)(f,["prevent"])},[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>(0,a.i9)(n)?n.value=e:n=e),autocomplete:"on",placeholder:"Rechercher une série"},null,512),[[l.Jo,(0,a.R1)(n)]]),s[4]||(s[4]=(0,i.Lk)("button",{type:"submit"},"Rechercher",-1))],32),(0,i.Lk)("table",null,[(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(g.value,((e,t)=>((0,i.uX)(),(0,i.CE)("tr",{key:t},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e,(e=>((0,i.uX)(),(0,i.CE)("td",{key:e.id,"data-titre":"séris",class:"checkbox-wrapper-50"},[(0,i.Lk)("div",c,[(0,i.Lk)("p",d,(0,o.v_)(e.name),1),e.image?((0,i.uX)(),(0,i.CE)("img",{key:0,src:e.image,alt:"Image de la série",class:"serie-image"},null,8,p)):(0,i.Q3)("",!0),(0,i.Lk)("button",{onClick:t=>L(e),class:"info-button"},"plus d'information",8,v),(0,i.bo)((0,i.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.checked=t,class:"plus-minus"},null,8,m),[[l.lH,e.checked]])])])))),128))])))),128))])]),(0,i.Lk)("p",null,"Nombre de séries : "+(0,o.v_)(t.value.length),1),(0,i.Lk)("p",null,"Nombre de séries cochées : "+(0,o.v_)(t.value.filter((e=>e.checked)).length),1),(0,i.Lk)("p",null,"Nombre de séries non cochées : "+(0,o.v_)(t.value.filter((e=>!e.checked)).length),1),(0,i.Lk)("p",null,"Nombre de séries modifiées : "+(0,o.v_)(t.value.filter((e=>e.modified)).length),1)],64))}};const f=h;var k=f;function L(e,t){return(0,i.uX)(),(0,i.CE)(i.FK,null,[t[0]||(t[0]=(0,i.Lk)("h2",null,"About Reco",-1)),t[1]||(t[1]=(0,i.Lk)("div",{class:"texte"},[(0,i.Lk)("h3",null,"RECO+ en bref"),(0,i.Lk)("p",{class:"about"},"Si visionner des séries télévisées s’est inscrit au fil des années comme une activité centrale de notre forme de vie contemporaine, les spectateurs ont de plus en plus de mal à se retrouver dans la masse et la variété de l’offre. Il est urgent de mettre en place un système avancé de recommandation sérielle, répondant à la fois aux exigences croissantes de l’industrie des séries et aux besoins et intérêts des téléspectateurs. RECO+ sera un système innovant conçu pour fournir aux spectateurs un classement des séries télévisées en fonction de leurs compétences, demandes et préférences éthiques. L’idée novatrice de RECO+ est d’offrir de meilleures recommandations sérielles en changeant le paradigme, c’est-à-dire en explorant le contenu (vidéo, textuel, scénaristique) des séries, plutôt qu’en traçant les comportements de visionnage. RECO+ se concevra de manière conviviale, en s’appuyant sur une IA pourvue par l’agrégation de données multimodales, interactive et générative. RECO+ s’articule autour de critères éthiques tels que la diversité, l’inclusivité et la durabilité, sera accessible au grand public, tout en étant indépendant des recommandations des diffuseurs. L’innovation RECO+ servira à la fois les utilisateurs, les créateurs et les producteurs.")],-1))],64)}var g=n(1241);const y={},b=(0,g.A)(y,[["render",L]]);var R=b;function C(e,t){return(0,i.uX)(),(0,i.CE)(i.FK,null,[t[0]||(t[0]=(0,i.Lk)("h2",null,"404 Not Found",-1)),t[1]||(t[1]=(0,i.Lk)("p",null,"The page you are looking for does not exist.",-1)),t[2]||(t[2]=(0,i.Lk)("p",null,[(0,i.eW)("Please check the URL or return to the "),(0,i.Lk)("a",{href:"#/"},"home page"),(0,i.eW)(".")],-1)),t[3]||(t[3]=(0,i.Lk)("div",{class:"wrapper"},[(0,i.Lk)("a",{href:"#"},[(0,i.Lk)("span",null,"Hover Me!")])],-1))],64)}const E={},_=(0,g.A)(E,[["render",C]]);var w=_,S={__name:"SelectionPuissance",setup(e){return(e,t)=>((0,i.uX)(),(0,i.CE)(i.FK,null,[t[3]||(t[3]=(0,i.Lk)("h2",null,"Personnalisation des critères",-1)),(0,i.Lk)("ul",null,[(0,i.Lk)("li",null,[(0,i.eW)(" Vidéo : "+(0,o.v_)((0,a.R1)(u).vidéo)+" ",1),(0,i.bo)((0,i.Lk)("input",{type:"range","onUpdate:modelValue":t[0]||(t[0]=e=>(0,a.R1)(u).vidéo=e),min:"0",max:"5",step:"0.01"},null,512),[[l.Jo,(0,a.R1)(u).vidéo]])]),(0,i.Lk)("li",null,[(0,i.eW)(" Scénario : "+(0,o.v_)((0,a.R1)(u).llama_Synopsis)+" ",1),(0,i.bo)((0,i.Lk)("input",{type:"range","onUpdate:modelValue":t[1]||(t[1]=e=>(0,a.R1)(u).llama_Synopsis=e),min:"0",max:"5",step:"0.01"},null,512),[[l.Jo,(0,a.R1)(u).llama_Synopsis]])]),(0,i.Lk)("li",null,[(0,i.eW)(" Audio : "+(0,o.v_)((0,a.R1)(u).audio)+" ",1),(0,i.bo)((0,i.Lk)("input",{type:"range","onUpdate:modelValue":t[2]||(t[2]=e=>(0,a.R1)(u).audio=e),min:"0",max:"5",step:"0.01"},null,512),[[l.Jo,(0,a.R1)(u).audio]])])])],64))}};const x=S;var X=x;n(7588),n(8237);const F={key:0},O={key:1},j={key:2},K={key:3},A={key:4},V={key:5};var N={__name:"Result",setup(e){const t=(0,a.KR)([]),n=(0,a.KR)([]),l=(0,a.KR)(null),s=["llama_Synopsis","audio","vidéo"];async function c(e){try{const n=await fetch(e);if(!n.ok)throw new Error(`Erreur lors du chargement du fichier CSV : ${n.statusText}`);const l=await n.text(),i=l.split("\n").map((e=>e.split(","))),a=i[0],o=i.slice(1).map((e=>{const t={};return a.forEach(((n,l)=>{t[n]=e[l]})),t}));t.value=o}catch(n){console.error("Erreur lors du chargement du CSV :",n)}}function d(e,t,n){const l=[],i={llama_Synopsis:[1,51],audio:[51,56],"vidéo":[56,Object.keys(n.value[0]).length]};if(t in i){const a=n.value.filter((t=>t["name"]===e));if(a.length>0){const e=i[t],n=Object.keys(a[0]).slice(e[0],e[1]);l.push(...n.map((e=>parseFloat(a[0][e])||0)))}}else console.error("Nom de caractéristique inconnu");return l}function p(e,t){const n=e.reduce(((e,n,l)=>e+n*t[l]),0),l=Math.sqrt(e.reduce(((e,t)=>e+t*t),0)),i=Math.sqrt(t.reduce(((e,t)=>e+t*t),0));return n/(l*i)}function v(e){n.value=t.value.map((n=>{const l=n["name"];if(l===e)return null;const i=s.map((n=>{const i=d(e,n,t),a=d(l,n,t),o=u.value[n]||1,s=p(i,a)*o;return console.log("Feature:",n),console.log("Slider value:",o),console.log("Similarity score:",s),{similarity:s,weight:o}})),a=i.reduce(((e,t)=>e+t.weight),0),o=i.reduce(((e,t)=>e+t.similarity),0)/a;return{name:l,similarity:o,details:{llama_Synopsis:i[0].similarity,audio:i[1].similarity,"vidéo":i[2].similarity}}})).filter((e=>null!==e)),n.value.sort(((e,t)=>t.similarity-e.similarity))}function m(e,n){const i=s.map((l=>{const i=d(e,l,t),a=d(n,l,t);return p(i,a)})),a=i.reduce(((e,t)=>e+t),0)/i.length;l.value={serie1:e,serie2:n,similarity:a,details:{llama_Synopsis:i[0],audio:i[1],"vidéo":i[2]}}}return(0,i.sV)((async()=>{if(await c("/RECO/data/characteristics.csv"),1===r.value.length){const e=r.value[0]["name"];v(e)}else if(2===r.value.length){const[e,t]=r.value.map((e=>e["name"]));m(e,t)}})),(e,t)=>((0,i.uX)(),(0,i.CE)(i.FK,null,[t[1]||(t[1]=(0,i.Lk)("h2",null,"Résultats des séries sélectionnées",-1)),(0,i.Lk)("ul",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,a.R1)(r),(e=>((0,i.uX)(),(0,i.CE)("li",{key:e.id},(0,o.v_)(e["name"]),1)))),128))]),0===(0,a.R1)(r).length?((0,i.uX)(),(0,i.CE)("p",F,"Aucune série sélectionnée.")):(0,i.Q3)("",!0),t[2]||(t[2]=(0,i.Lk)("h3",null,"Valeurs des sliders :",-1)),(0,i.Lk)("ul",null,[(0,i.Lk)("li",null,"Video : "+(0,o.v_)((0,a.R1)(u).vidéo),1),(0,i.Lk)("li",null,"Scénario : "+(0,o.v_)((0,a.R1)(u).llama_Synopsis),1),(0,i.Lk)("li",null,"Audio : "+(0,o.v_)((0,a.R1)(u).audio),1)]),1===(0,a.R1)(r).length?((0,i.uX)(),(0,i.CE)("h3",O,"Tableau des similarités")):(0,i.Q3)("",!0),n.value.length>0&&1===(0,a.R1)(r).length?((0,i.uX)(),(0,i.CE)("table",j,[t[0]||(t[0]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"Série"),(0,i.Lk)("th",null,"Score de Similarité"),(0,i.Lk)("th",null,"llama_Synopsis"),(0,i.Lk)("th",null,"Audio"),(0,i.Lk)("th",null,"Vidéo")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.value,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.name},[(0,i.Lk)("td",null,(0,o.v_)(e.name),1),(0,i.Lk)("td",null,(0,o.v_)(e.similarity.toFixed(4)),1),(0,i.Lk)("td",null,(0,o.v_)(e.details.llama_Synopsis.toFixed(4)),1),(0,i.Lk)("td",null,(0,o.v_)(e.details.audio.toFixed(4)),1),(0,i.Lk)("td",null,(0,o.v_)(e.details.vidéo.toFixed(4)),1)])))),128))])])):(0,i.Q3)("",!0),2===(0,a.R1)(r).length?((0,i.uX)(),(0,i.CE)("h3",K,"Comparaison entre deux séries")):(0,i.Q3)("",!0),l.value?((0,i.uX)(),(0,i.CE)("p",A," Similarité entre "+(0,o.v_)(l.value.serie1)+" et "+(0,o.v_)(l.value.serie2)+" : "+(0,o.v_)(l.value.similarity.toFixed(4)),1)):(0,i.Q3)("",!0),l.value?((0,i.uX)(),(0,i.CE)("ul",V,[(0,i.Lk)("li",null,"llama_Synopsis : "+(0,o.v_)(l.value.details.llama_Synopsis.toFixed(4)),1),(0,i.Lk)("li",null,"Audio : "+(0,o.v_)(l.value.details.audio.toFixed(4)),1),(0,i.Lk)("li",null,"Vidéo : "+(0,o.v_)(l.value.details.vidéo.toFixed(4)),1)])):(0,i.Q3)("",!0)],64))}};const P=N;var I=P,Q=n(1737),W=n(6127);const J={class:"top"},q={class:"title-container"},U={key:0,href:"#/"},$={key:0},H={key:1,href:"#/SelectionPuissance"},M={key:0},T={key:2,href:"#/Resultat"},D={key:3,href:"#/SelectionPuissance"},B={key:4,href:"#/AboutReco",id:"Home"};var Y={__name:"App",setup(e){const t=(0,Q.C6J)(),n=(0,W.eY)(t),l={"/":k,"/aboutReco":R,"/SelectionPuissance":X,"/Resultat":I,"/AboutReco":R},o=(0,a.KR)(window.location.hash);let s=!0,r=!1,u=!1;window.addEventListener("hashchange",(()=>{o.value=window.location.hash}));const c=(0,i.EW)((()=>(s="#/"===window.location.hash,r="#/SelectionPuissance"===window.location.hash,u="#/AboutReco"===window.location.hash,l[o.value.slice(1)||"/"]||w)));return(e,t)=>((0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",J,[(0,i.Lk)("div",q,[t[1]||(t[1]=(0,i.Lk)("a",{href:"https://www.cnrs.fr/fr",target:"Fenêtre définie"},[(0,i.Lk)("img",{src:"CNRS.png",alt:"Logo du CNRS",style:{"max-width":"100px","max-height":"100px",top:"10px",left:"10px"}})],-1)),t[2]||(t[2]=(0,i.Lk)("h1",null,"RECO+",-1)),(0,i.Lk)("button",{onClick:t[0]||(t[0]=e=>(0,a.R1)(n)()),class:"dark-mode-toggle"},"Mode Jour/Nuit")])]),(0,i.Lk)("nav",null,[(0,a.R1)(s)?((0,i.uX)(),(0,i.CE)("a",H,[(0,a.R1)(s)?((0,i.uX)(),(0,i.CE)("button",M,"puissance ")):(0,i.Q3)("",!0)])):((0,i.uX)(),(0,i.CE)("a",U,[(0,a.R1)(s)?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("button",$,"Catalogue "))])),(0,a.R1)(s)|(0,a.R1)(r)?((0,i.uX)(),(0,i.CE)("a",T,t[3]||(t[3]=[(0,i.Lk)("button",null,"Résultat ",-1)]))):((0,i.uX)(),(0,i.CE)("a",D,t[4]||(t[4]=[(0,i.Lk)("button",null,"puissance ",-1)]))),(0,a.R1)(u)?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("a",B,t[5]||(t[5]=[(0,i.Lk)("button",null,"About Reco ",-1)])))]),(0,i.Lk)("body",null,[((0,i.uX)(),(0,i.Wv)(i.PR,null,[((0,i.uX)(),(0,i.Wv)((0,i.$y)(c.value)))],1024))]),t[6]||(t[6]=(0,i.Fv)('<footer class="fixed_footer"><div class="content"><p>projet réalisé en partenaria avec :</p><a href="https://www.cnrs.fr/fr" target="Fenêtre définie"><img src="CNRS.png" alt="logo du CNRS"></a><a href="https://isjps.pantheonsorbonne.fr/" target="Fenêtre définie"><img src="ISJPS.png" alt="logo du ISJPS"></a><a href="https://jfli.cnrs.fr/" target="Fenêtre définie"><img src="logo-jfli.png" alt="logo du JFLI"></a></div></footer>',1))],64))}};const z=Y;var G=z;(0,l.Ef)(G).mount("#app")}},t={};function n(l){var i=t[l];if(void 0!==i)return i.exports;var a=t[l]={exports:{}};return e[l].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,l,i,a){if(!l){var o=1/0;for(c=0;c<e.length;c++){l=e[c][0],i=e[c][1],a=e[c][2];for(var s=!0,r=0;r<l.length;r++)(!1&a||o>=a)&&Object.keys(n.O).every((function(e){return n.O[e](l[r])}))?l.splice(r--,1):(s=!1,a<o&&(o=a));if(s){e.splice(c--,1);var u=i();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[l,i,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var i,a,o=l[0],s=l[1],r=l[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(r)var c=r(n)}for(t&&t(l);u<o.length;u++)a=o[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},l=self["webpackChunkreco"]=self["webpackChunkreco"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[504],(function(){return n(7010)}));l=n.O(l)})();
//# sourceMappingURL=app.8d534908.js.map