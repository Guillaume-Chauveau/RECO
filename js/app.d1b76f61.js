(function(){"use strict";var e={3601:function(e,n,t){var o=t(5130),r=t(6768),l=t(144),s=(t(4114),t(8111),t(2489),t(116),t(1701),t(3579),t(4232)),a=t(3230);const i=(0,l.KR)([]),u=(0,l.KR)({scenario:40,couleur:40,exemple:40}),c={class:"cell-content"},d={class:"serie-title"},p=["src"],f=["onClick"],h=["onUpdate:modelValue"];var v={__name:"Home",setup(e){const n=(0,l.KR)([]);let t=(0,l.KR)("");const u=async e=>{try{const t=await fetch(e),o=await t.arrayBuffer(),r=a.LF(o,{type:"array"});if(!r.SheetNames||0===r.SheetNames.length)throw new Error("Le fichier Excel ne contient aucune feuille.");const l=r.SheetNames[0],s=r.Sheets[l];if(!s)throw new Error("La feuille Excel est vide ou invalide.");const i=await v();n.value=a.Wp.sheet_to_json(s).map(((e,n)=>{const t=i.find((n=>n.name===e["TV Serie Name"]));return{id:n,name:e["TV Serie Name"],description:t?t.description:"Description non disponible",image:t?t.image:"Image non disponible",checked:!1,deleted:!1,modified:!1}}))}catch(t){console.error("Erreur lors du chargement du fichier Excel :",t)}},v=async()=>{try{const e=await fetch("/RECO/data/Series.json"),n=await e.json();return n}catch(e){return console.error("Erreur lors du chargement de Series.json :",e),[]}},m=()=>{const e=n.value.filter((e=>Object.values(e).some((e=>String(e).toLowerCase().includes(t.value.toLowerCase())))));n.value=e},k=()=>{i.value=n.value.filter((e=>e.checked)),i.value.length>0?alert("Séries sélectionnées : "+i.value.map((e=>e["name"])).join(", ")):alert("Aucune série sélectionnée")},g=e=>{e.name&&e.description?alert(`Description de "${e.name}": ${e.description}`):alert("Les informations de la série sont incomplètes.")};(0,r.sV)((()=>{u("/RECO/data/characteristics.csv")}));const L=(0,r.EW)((()=>{const e=n.value.filter((e=>!e.deleted)),t=[];for(let n=0;n<e.length;n+=5)t.push(e.slice(n,n+5));return t}));return(e,a)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[a[5]||(a[5]=(0,r.Lk)("h2",null,"Liste des séries",-1)),(0,r.Lk)("form",{onSubmit:(0,o.D$)(k,["prevent"])},[(0,r.bo)((0,r.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=e=>k=e)},null,512),[[o.lH,k]]),a[2]||(a[2]=(0,r.Lk)("label",null,"Afficher les séries sélectionnées",-1)),a[3]||(a[3]=(0,r.Lk)("button",{type:"submit"},"Afficher",-1))],32),(0,r.Lk)("form",{onSubmit:(0,o.D$)(m,["prevent"])},[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>(0,l.i9)(t)?t.value=e:t=e),autocomplete:"on",placeholder:"Rechercher une série"},null,512),[[o.Jo,(0,l.R1)(t)]]),a[4]||(a[4]=(0,r.Lk)("button",{type:"submit"},"Rechercher",-1))],32),(0,r.Lk)("table",null,[(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(L.value,((e,n)=>((0,r.uX)(),(0,r.CE)("tr",{key:n},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e,(e=>((0,r.uX)(),(0,r.CE)("td",{key:e.id,"data-titre":"séris",class:"checkbox-wrapper-50"},[(0,r.Lk)("div",c,[(0,r.Lk)("p",d,(0,s.v_)(e.name),1),e.image?((0,r.uX)(),(0,r.CE)("img",{key:0,src:e.image,alt:"Image de la série",class:"serie-image"},null,8,p)):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:n=>g(e),class:"info-button"},"plus d'information",8,f),(0,r.bo)((0,r.Lk)("input",{type:"checkbox","onUpdate:modelValue":n=>e.checked=n,class:"plus-minus"},null,8,h),[[o.lH,e.checked]])])])))),128))])))),128))])]),(0,r.Lk)("p",null,"Nombre de séries : "+(0,s.v_)(n.value.length),1),(0,r.Lk)("p",null,"Nombre de séries cochées : "+(0,s.v_)(n.value.filter((e=>e.checked)).length),1),(0,r.Lk)("p",null,"Nombre de séries non cochées : "+(0,s.v_)(n.value.filter((e=>!e.checked)).length),1),(0,r.Lk)("p",null,"Nombre de séries modifiées : "+(0,s.v_)(n.value.filter((e=>e.modified)).length),1)],64))}};const m=v;var k=m;function g(e,n){return(0,r.uX)(),(0,r.CE)(r.FK,null,[n[0]||(n[0]=(0,r.Lk)("h2",null,"About Reco",-1)),n[1]||(n[1]=(0,r.Lk)("div",{class:"texte"},[(0,r.Lk)("h3",null,"RECO+ en bref"),(0,r.Lk)("p",{class:"about"},"Si visionner des séries télévisées s’est inscrit au fil des années comme une activité centrale de notre forme de vie contemporaine, les spectateurs ont de plus en plus de mal à se retrouver dans la masse et la variété de l’offre. Il est urgent de mettre en place un système avancé de recommandation sérielle, répondant à la fois aux exigences croissantes de l’industrie des séries et aux besoins et intérêts des téléspectateurs. RECO+ sera un système innovant conçu pour fournir aux spectateurs un classement des séries télévisées en fonction de leurs compétences, demandes et préférences éthiques. L’idée novatrice de RECO+ est d’offrir de meilleures recommandations sérielles en changeant le paradigme, c’est-à-dire en explorant le contenu (vidéo, textuel, scénaristique) des séries, plutôt qu’en traçant les comportements de visionnage. RECO+ se concevra de manière conviviale, en s’appuyant sur une IA pourvue par l’agrégation de données multimodales, interactive et générative. RECO+ s’articule autour de critères éthiques tels que la diversité, l’inclusivité et la durabilité, sera accessible au grand public, tout en étant indépendant des recommandations des diffuseurs. L’innovation RECO+ servira à la fois les utilisateurs, les créateurs et les producteurs.")],-1))],64)}var L=t(1241);const b={},C=(0,L.A)(b,[["render",g]]);var R=C;function E(e,n){return(0,r.uX)(),(0,r.CE)(r.FK,null,[n[0]||(n[0]=(0,r.Lk)("h2",null,"404 Not Found",-1)),n[1]||(n[1]=(0,r.Lk)("p",null,"The page you are looking for does not exist.",-1)),n[2]||(n[2]=(0,r.Lk)("p",null,[(0,r.eW)("Please check the URL or return to the "),(0,r.Lk)("a",{href:"#/"},"home page"),(0,r.eW)(".")],-1)),n[3]||(n[3]=(0,r.Lk)("div",{class:"wrapper"},[(0,r.Lk)("a",{href:"#"},[(0,r.Lk)("span",null,"Hover Me!")])],-1))],64)}const y={},w=(0,L.A)(y,[["render",E]]);var x=w,S={__name:"SelectionPuissance",setup(e){return(e,n)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[n[3]||(n[3]=(0,r.Lk)("h2",null,"Personnalisation des critères",-1)),(0,r.Lk)("ul",null,[(0,r.Lk)("li",null,[(0,r.eW)(" Couleur : "+(0,s.v_)((0,l.R1)(u).couleur)+" ",1),(0,r.bo)((0,r.Lk)("input",{type:"range","onUpdate:modelValue":n[0]||(n[0]=e=>(0,l.R1)(u).couleur=e),min:"0",max:"100",step:"5"},null,512),[[o.Jo,(0,l.R1)(u).couleur]])]),(0,r.Lk)("li",null,[(0,r.eW)(" Scénario : "+(0,s.v_)((0,l.R1)(u).scenario)+" ",1),(0,r.bo)((0,r.Lk)("input",{type:"range","onUpdate:modelValue":n[1]||(n[1]=e=>(0,l.R1)(u).scenario=e),min:"0",max:"100",step:"5"},null,512),[[o.Jo,(0,l.R1)(u).scenario]])]),(0,r.Lk)("li",null,[(0,r.eW)(" Exemple : "+(0,s.v_)((0,l.R1)(u).exemple)+" ",1),(0,r.bo)((0,r.Lk)("input",{type:"range","onUpdate:modelValue":n[2]||(n[2]=e=>(0,l.R1)(u).exemple=e),min:"0",max:"100",step:"5"},null,512),[[o.Jo,(0,l.R1)(u).exemple]])])])],64))}};const _=S;var $=_;t(531),t(7588),t(8237);const O={key:0};var X={__name:"Result",setup(e){const n=(0,l.KR)([]),t=(0,l.KR)({couleur:0,scenario:0,exemple:0}),o=async e=>{try{const t=await fetch(e);if(!t.ok)throw new Error(`Erreur lors du chargement du fichier CSV : ${t.statusText}`);const o=await t.text();console.log("Contenu brut du fichier CSV :",o);const r=o.split("\n").map((e=>e.split(";")));console.log("Lignes du fichier CSV :",r);const l=r.shift();console.log("En-têtes du fichier CSV :",l),n.value=r.map((e=>{const n={};return e.forEach(((e,t)=>{n[l[t]]=isNaN(e)?e:parseFloat(e)})),n})),console.log("Données chargées :",n.value)}catch(t){console.error("Erreur lors du chargement du fichier CSV :",t)}};function a(e,n,t){const o=t.value.find((n=>n["name"]===e));if(console.log(`Série recherchée : ${e}`),console.log("Série trouvée :",o),!o)return console.error(`Série ${e} non trouvée dans les données.`),[];const r={audio:Object.keys(o).slice(310,315),"vidéo":Object.keys(o).slice(315),llama_Synopsis:Object.keys(o).slice(100,150)},l=n.flatMap((e=>{const n=r[e],t=n.map((n=>{const t=parseFloat(o[n])||0;return console.log(`Valeur extraite pour ${e} (${n}) : ${t}`),t}));return t}));return console.log(`Caractéristiques extraites pour ${e} :`,l),l}function u(e,n,t,o){const r={};return o.forEach((o=>{const l=a(e,[o],t),s=a(n,[o],t);if(console.log(`Caractéristiques de ${e} pour ${o} :`,l),console.log(`Caractéristiques de ${n} pour ${o} :`,s),0===l.length||0===s.length)return void(r[o]=null);const i=l.reduce(((e,n,t)=>e+n*s[t]),0),u=Math.sqrt(l.reduce(((e,n)=>e+n**2),0)),c=Math.sqrt(s.reduce(((e,n)=>e+n**2),0));console.log(`Produit scalaire pour ${o} : ${i}`),console.log(`Magnitude 1 pour ${o} : ${u}`),console.log(`Magnitude 2 pour ${o} : ${c}`),r[o]=0===u||0===c?0:i/(u*c),console.log(`Similarité cosinus pour ${o} : ${r[o]}`)})),r}const c=["llama_Synopsis","audio","vidéo"],d=(0,l.KR)({});return(0,r.sV)((async()=>{if(n.value&&0!==n.value.length||await o("/RECO/data/characteristics.csv"),i.value.length>=2){const e=i.value[0]["name"],t=i.value[1]["name"];d.value=u(e,t,n,c),console.log(`Similarités cosinus entre "${e}" et "${t}" :`,d.value)}else console.warn("Moins de deux séries sélectionnées pour calculer la similarité.")})),(e,n)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[n[0]||(n[0]=(0,r.Lk)("h2",null,"Résultats des séries sélectionnées",-1)),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,l.R1)(i),(e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id},(0,s.v_)(e["name"]),1)))),128))]),0===(0,l.R1)(i).length?((0,r.uX)(),(0,r.CE)("p",O,"Aucune série sélectionnée.")):(0,r.Q3)("",!0),n[1]||(n[1]=(0,r.Lk)("h3",null,"Valeurs des sliders :",-1)),(0,r.Lk)("ul",null,[(0,r.Lk)("li",null,"Couleur : "+(0,s.v_)(t.value.couleur),1),(0,r.Lk)("li",null,"Scénario : "+(0,s.v_)(t.value.scenario),1),(0,r.Lk)("li",null,"Exemple : "+(0,s.v_)(t.value.exemple),1)]),n[2]||(n[2]=(0,r.Lk)("h3",null,"Similarités cosinus par feature :",-1)),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(d.value,((e,n)=>((0,r.uX)(),(0,r.CE)("li",{key:n},(0,s.v_)(n)+" : "+(0,s.v_)(null!==e?e.toFixed(4):"Non calculable"),1)))),128))])],64))}};const F=X;var j=F,K=t(1737),N=t(6127);const V={class:"top"},A={class:"title-container"},P={key:0,href:"#/"},I={key:0},q={key:1,href:"#/SelectionPuissance"},W={key:0},J={key:2,href:"#/Resultat"},M={key:3,href:"#/SelectionPuissance"},U={key:4,href:"#/AboutReco",id:"Home"};var T={__name:"App",setup(e){const n=(0,K.C6J)(),t=(0,N.eY)(n),o={"/":k,"/aboutReco":R,"/SelectionPuissance":$,"/Resultat":j,"/AboutReco":R},s=(0,l.KR)(window.location.hash);let a=!0,i=!1,u=!1;window.addEventListener("hashchange",(()=>{s.value=window.location.hash}));const c=(0,r.EW)((()=>(a="#/"===window.location.hash,i="#/SelectionPuissance"===window.location.hash,u="#/AboutReco"===window.location.hash,o[s.value.slice(1)||"/"]||x)));return(e,n)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",V,[(0,r.Lk)("div",A,[n[1]||(n[1]=(0,r.Lk)("a",{href:"https://www.cnrs.fr/fr",target:"Fenêtre définie"},[(0,r.Lk)("img",{src:"CNRS.png",alt:"Logo du CNRS",style:{"max-width":"100px","max-height":"100px",top:"10px",left:"10px"}})],-1)),n[2]||(n[2]=(0,r.Lk)("h1",null,"RECO+",-1)),(0,r.Lk)("button",{onClick:n[0]||(n[0]=e=>(0,l.R1)(t)()),class:"dark-mode-toggle"},"Mode Jour/Nuit")])]),(0,r.Lk)("nav",null,[(0,l.R1)(a)?((0,r.uX)(),(0,r.CE)("a",q,[(0,l.R1)(a)?((0,r.uX)(),(0,r.CE)("button",W,"puissance ")):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("a",P,[(0,l.R1)(a)?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",I,"Catalogue "))])),(0,l.R1)(a)|(0,l.R1)(i)?((0,r.uX)(),(0,r.CE)("a",J,n[3]||(n[3]=[(0,r.Lk)("button",null,"Résultat ",-1)]))):((0,r.uX)(),(0,r.CE)("a",M,n[4]||(n[4]=[(0,r.Lk)("button",null,"puissance ",-1)]))),(0,l.R1)(u)?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("a",U,n[5]||(n[5]=[(0,r.Lk)("button",null,"About Reco ",-1)])))]),(0,r.Lk)("body",null,[((0,r.uX)(),(0,r.Wv)(r.PR,null,[((0,r.uX)(),(0,r.Wv)((0,r.$y)(c.value)))],1024))]),n[6]||(n[6]=(0,r.Fv)('<footer class="fixed_footer"><div class="content"><p>projet réalisé en partenaria avec :</p><a href="https://www.cnrs.fr/fr" target="Fenêtre définie"><img src="CNRS.png" alt="logo du CNRS"></a><a href="https://isjps.pantheonsorbonne.fr/" target="Fenêtre définie"><img src="ISJPS.png" alt="logo du ISJPS"></a><a href="https://jfli.cnrs.fr/" target="Fenêtre définie"><img src="logo-jfli.png" alt="logo du JFLI"></a></div></footer>',1))],64))}};const D=T;var H=D;(0,o.Ef)(H).mount("#app")}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var l=n[o]={exports:{}};return e[o].call(l.exports,l,l.exports,t),l.exports}t.m=e,function(){var e=[];t.O=function(n,o,r,l){if(!o){var s=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],l=e[c][2];for(var a=!0,i=0;i<o.length;i++)(!1&l||s>=l)&&Object.keys(t.O).every((function(e){return t.O[e](o[i])}))?o.splice(i--,1):(a=!1,l<s&&(s=l));if(a){e.splice(c--,1);var u=r();void 0!==u&&(n=u)}}return n}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[o,r,l]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var r,l,s=o[0],a=o[1],i=o[2],u=0;if(s.some((function(n){return 0!==e[n]}))){for(r in a)t.o(a,r)&&(t.m[r]=a[r]);if(i)var c=i(t)}for(n&&n(o);u<s.length;u++)l=s[u],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(c)},o=self["webpackChunkreco"]=self["webpackChunkreco"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(3601)}));o=t.O(o)})();
//# sourceMappingURL=app.d1b76f61.js.map