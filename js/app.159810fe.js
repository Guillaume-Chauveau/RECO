(function(){"use strict";var e={8987:function(e,n,t){var l=t(5130),r=t(6768),i=t(144),o=t(1737),a=t(6127),s=(t(4114),t(8111),t(2489),t(3579),t(4232));const u=["src"],c=["onUpdate:modelValue","onChange"],d=["onClick"];var p={__name:"Home",props:["series"],setup(e){const n=e,t=(0,i.KR)(n.series);let o=(0,i.KR)(""),a=0;const p=()=>{const e=n.series.filter((e=>Object.values(e).some((e=>String(e).toLowerCase().includes(o.value.toLowerCase())))));t.value=e},v=e=>{e.name&&e.description?alert(`Description de "${e.name}": ${e.description}`):alert("Les informations de la série sont incomplètes.")},f=(0,r.EW)((()=>{const e=[];for(let n=0;n<t.value.length;n+=5)e.push(t.value.slice(n,n+5));return e}));function m(e){e.checked?(a++,a>2&&(e.checked=!1,a--,alert("Vous ne pouvez sélectionner que 2 séries au maximum."))):a--}return(e,n)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[n[2]||(n[2]=(0,r.Lk)("h2",null,"Liste des séries",-1)),(0,r.Lk)("form",{onSubmit:(0,l.D$)(p,["prevent"])},[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>(0,i.i9)(o)?o.value=e:o=e),placeholder:"Rechercher une série"},null,512),[[l.Jo,(0,i.R1)(o)]]),n[1]||(n[1]=(0,r.Lk)("button",{type:"submit"},"Rechercher",-1))],32),(0,r.Lk)("table",null,[(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(f.value,((e,n)=>((0,r.uX)(),(0,r.CE)("tr",{key:n},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e,(e=>((0,r.uX)(),(0,r.CE)("td",{key:e.name},[(0,r.Lk)("div",null,[(0,r.Lk)("img",{src:e.image,alt:"Image de la série",class:"serie-image"},null,8,u),(0,r.Lk)("p",null,(0,s.v_)(e.name),1),(0,r.bo)((0,r.Lk)("input",{type:"checkbox","onUpdate:modelValue":n=>e.checked=n,onChange:n=>m(e)},null,40,c),[[l.lH,e.checked]]),(0,r.Lk)("button",{onClick:n=>v(e)},"Voir description",8,d)])])))),128))])))),128))])]),(0,r.Lk)("p",null,"Nombre de séries : "+(0,s.v_)(t.value.length),1),(0,r.Lk)("p",null,"Nombre de séries cochées : "+(0,s.v_)(t.value.filter((e=>e.checked)).length),1),(0,r.Lk)("p",null,"Nombre de séries non cochées : "+(0,s.v_)(t.value.filter((e=>!e.checked)).length),1)],64))}};const v=p;var f=v,m={__name:"SelectionPuissance",props:["sliders"],emits:["update:sliders"],setup(e,{emit:n}){const t=e,o=n,a=(0,i.KR)({...t.sliders});return(0,r.wB)(a,(e=>{o("update:sliders",e)}),{deep:!0}),(e,n)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[n[3]||(n[3]=(0,r.Lk)("h2",null,"Personnalisation des critères",-1)),(0,r.Lk)("ul",null,[(0,r.Lk)("li",null,[(0,r.eW)(" Vidéo : "+(0,s.v_)(a.value.vidéo)+" ",1),(0,r.bo)((0,r.Lk)("input",{type:"range","onUpdate:modelValue":n[0]||(n[0]=e=>a.value.vidéo=e),min:"0",max:"1",step:"0.01"},null,512),[[l.Jo,a.value.vidéo]])]),(0,r.Lk)("li",null,[(0,r.eW)(" Scénario : "+(0,s.v_)(a.value.llama_Synopsis)+" ",1),(0,r.bo)((0,r.Lk)("input",{type:"range","onUpdate:modelValue":n[1]||(n[1]=e=>a.value.llama_Synopsis=e),min:"0",max:"1",step:"0.01"},null,512),[[l.Jo,a.value.llama_Synopsis]])]),(0,r.Lk)("li",null,[(0,r.eW)(" Audio : "+(0,s.v_)(a.value.audio)+" ",1),(0,r.bo)((0,r.Lk)("input",{type:"range","onUpdate:modelValue":n[2]||(n[2]=e=>a.value.audio=e),min:"0",max:"1",step:"0.01"},null,512),[[l.Jo,a.value.audio]])])])],64))}};const h=m;var k=h;t(116),t(1701),t(8237);const g={key:0},L=["src"];var b={__name:"Result",props:["series","sliders"],setup(e){const n=e,t=(0,i.KR)([]);function l(e,n){const t=e.reduce(((e,t,l)=>e+t*n[l]),0),l=Math.sqrt(e.reduce(((e,n)=>e+n*n),0)),r=Math.sqrt(n.reduce(((e,n)=>e+n*n),0));return l&&r?t/(l*r):0}function o(e,n){return n.map((n=>e[n]||0))}function a(e){const r=n.series.find((n=>n.name===e));if(!r)return;const i=["llama_Synopsis","audio","vidéo"];t.value=n.series.filter((n=>n.name!==e)).map((e=>{const n=o(r,i),t=o(e,i),a=l(n,t);return{name:e.name,similarity:a,image:e.image,description:e.description}})),t.value.sort(((e,n)=>n.similarity-e.similarity))}const u=(0,r.EW)((()=>n.series.find((e=>e.checked))));return u.value&&a(u.value.name),(e,n)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[n[1]||(n[1]=(0,r.Lk)("h2",null,"Résultats des séries sélectionnées",-1)),t.value.length>0?((0,r.uX)(),(0,r.CE)("table",g,[n[0]||(n[0]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Série"),(0,r.Lk)("th",null,"Image"),(0,r.Lk)("th",null,"Description"),(0,r.Lk)("th",null,"Score de Similarité")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.value,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.name},[(0,r.Lk)("td",null,(0,s.v_)(e.name),1),(0,r.Lk)("td",null,[(0,r.Lk)("img",{src:e.image,alt:"Image de la série",class:"serie-image"},null,8,L)]),(0,r.Lk)("td",null,(0,s.v_)(e.description),1),(0,r.Lk)("td",null,(0,s.v_)((100*e.similarity).toFixed(2))+"%",1)])))),128))])])):(0,r.Q3)("",!0)],64))}};const y=b;var C=y;const w={class:"top"},_={class:"title-container"};var R={__name:"App",setup(e){const n=(0,i.KR)([]),t=(0,i.KR)({llama_Synopsis:1,audio:1,"vidéo":1}),l=(0,o.C6J)(),s=(0,a.eY)(l);(0,r.sV)((async()=>{try{const e=await fetch("/data/Series.json");n.value=await e.json()}catch(e){console.error("Erreur lors du chargement des séries :",e)}}));const u={"/":f,"/SelectionPuissance":k,"/Resultat":C},c=(0,i.KR)(window.location.hash||"#/"),d=(0,r.EW)((()=>u[c.value.slice(1)]||f));return window.addEventListener("hashchange",(()=>{c.value=window.location.hash||"#/"})),(e,l)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",w,[(0,r.Lk)("div",_,[l[1]||(l[1]=(0,r.Lk)("a",{href:"https://www.cnrs.fr/fr",target:"Fenêtre définie"},[(0,r.Lk)("img",{src:"CNRS.png",alt:"Logo du CNRS",style:{"max-width":"100px","max-height":"100px",top:"10px",left:"10px"}})],-1)),l[2]||(l[2]=(0,r.Lk)("h1",null,"RECO+",-1)),(0,r.Lk)("button",{onClick:l[0]||(l[0]=(...e)=>(0,i.R1)(s)&&(0,i.R1)(s)(...e)),class:"dark-mode-toggle"},"Mode Jour/Nuit")])]),l[3]||(l[3]=(0,r.Lk)("nav",null,[(0,r.Lk)("a",{href:"#/"},"Catalogue"),(0,r.Lk)("a",{href:"#/SelectionPuissance"},"Personnalisation"),(0,r.Lk)("a",{href:"#/Resultat"},"Résultats")],-1)),((0,r.uX)(),(0,r.Wv)(r.PR,null,[((0,r.uX)(),(0,r.Wv)((0,r.$y)(d.value),{series:n.value,sliders:t.value},null,8,["series","sliders"]))],1024)),l[4]||(l[4]=(0,r.Fv)('<footer class="fixed_footer"><div class="content"><p>projet réalisé en partenaria avec :</p><a href="https://www.cnrs.fr/fr" target="Fenêtre définie"><img src="CNRS.png" alt="logo du CNRS"></a><a href="https://isjps.pantheonsorbonne.fr/" target="Fenêtre définie"><img src="ISJPS.png" alt="logo du ISJPS"></a><a href="https://jfli.cnrs.fr/" target="Fenêtre définie"><img src="logo-jfli.png" alt="logo du JFLI"></a></div></footer>',1))],64))}};const S=R;var x=S;(0,l.Ef)(x).mount("#app")}},n={};function t(l){var r=n[l];if(void 0!==r)return r.exports;var i=n[l]={exports:{}};return e[l].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(n,l,r,i){if(!l){var o=1/0;for(c=0;c<e.length;c++){l=e[c][0],r=e[c][1],i=e[c][2];for(var a=!0,s=0;s<l.length;s++)(!1&i||o>=i)&&Object.keys(t.O).every((function(e){return t.O[e](l[s])}))?l.splice(s--,1):(a=!1,i<o&&(o=i));if(a){e.splice(c--,1);var u=r();void 0!==u&&(n=u)}}return n}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[l,r,i]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var l in n)t.o(n,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:n[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,l){var r,i,o=l[0],a=l[1],s=l[2],u=0;if(o.some((function(n){return 0!==e[n]}))){for(r in a)t.o(a,r)&&(t.m[r]=a[r]);if(s)var c=s(t)}for(n&&n(l);u<o.length;u++)i=o[u],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},l=self["webpackChunkreco"]=self["webpackChunkreco"]||[];l.forEach(n.bind(null,0)),l.push=n.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],(function(){return t(8987)}));l=t.O(l)})();
//# sourceMappingURL=app.159810fe.js.map