(function(){"use strict";var e={1743:function(e,t,n){var i=n(5130),l=n(6768),a=n(144),s=(n(4114),n(8111),n(2489),n(116),n(1701),n(3579),n(4232)),r=n(3230);const o=(0,a.KR)(JSON.parse(localStorage.getItem("selectedSeries"))||[]),u=(0,a.KR)(JSON.parse(localStorage.getItem("sliders"))||{llama_Synopsis:1,audio:1,"vidéo":1});(0,l.wB)(o,(e=>{localStorage.setItem("selectedSeries",JSON.stringify(e))}),{deep:!0}),(0,l.wB)(u,(e=>{localStorage.setItem("sliders",JSON.stringify(e))}),{deep:!0});const c={class:"cell-content"},d={class:"serie-title"},p=["src"],m=["onClick"],v=["onUpdate:modelValue"];var h={__name:"Home",setup(e){const t=(0,a.KR)([]);let n=(0,a.KR)("");const u=async e=>{try{const n=await fetch(e),i=await n.arrayBuffer(),l=r.LF(i,{type:"array"});if(!l.SheetNames||0===l.SheetNames.length)throw new Error("Le fichier Excel ne contient aucune feuille.");const a=l.SheetNames[0],s=l.Sheets[a];if(!s)throw new Error("La feuille Excel est vide ou invalide.");const o=await h();t.value=r.Wp.sheet_to_json(s).map(((e,t)=>{const n=o.find((t=>t.name===e["name"]));return{id:t,name:e["name"],description:n?n.description:"Description non disponible",image:n?n.image:"Image non disponible",checked:!1,deleted:!1,modified:!1}}))}catch(n){console.error("Erreur lors du chargement du fichier Excel :",n)}},h=async()=>{try{const e=await fetch("/RECO/data/Series.json"),t=await e.json();return t}catch(e){return console.error("Erreur lors du chargement de Series.json :",e),[]}},f=()=>{const e=t.value.filter((e=>Object.values(e).some((e=>String(e).toLowerCase().includes(n.value.toLowerCase())))));t.value=e},k=e=>{e.name&&e.description?alert(`Description de "${e.name}": ${e.description}`):alert("Les informations de la série sont incomplètes.")};(0,l.wB)(t,(e=>{o.value=e.filter((e=>e.checked))}),{deep:!0}),(0,l.sV)((()=>{u("/RECO/data/characteristics.csv")}));const g=(0,l.EW)((()=>{const e=t.value.filter((e=>!e.deleted)),n=[];for(let t=0;t<e.length;t+=5)n.push(e.slice(t,t+5));return n}));var y=0;function L(e){return e.checked}function b(e){y<2||!L(e)?L(e)?y+=1:y-=1:e.checked=!1}return(e,r)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[r[3]||(r[3]=(0,l.Lk)("h2",null,"Liste des séries",-1)),(0,l.Lk)("form",{onSubmit:(0,i.D$)(f,["prevent"])},[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=e=>(0,a.i9)(n)?n.value=e:n=e),autocomplete:"on",placeholder:"Rechercher une série"},null,512),[[i.Jo,(0,a.R1)(n)]]),r[2]||(r[2]=(0,l.Lk)("button",{type:"submit"},"Rechercher",-1))],32),(0,l.Lk)("table",null,[(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(g.value,((e,t)=>((0,l.uX)(),(0,l.CE)("tr",{key:t},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e,(e=>((0,l.uX)(),(0,l.CE)("td",{key:e.id,"data-titre":"séris",class:"checkbox-wrapper-50"},[(0,l.Lk)("div",c,[(0,l.Lk)("p",d,(0,s.v_)(e.name),1),e.image?((0,l.uX)(),(0,l.CE)("img",{key:0,src:e.image,alt:"Image de la série",class:"serie-image"},null,8,p)):(0,l.Q3)("",!0),(0,l.Lk)("button",{onClick:t=>k(e),class:"info-button"},"plus d'information",8,m),(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.checked=t,class:"plus-minus",onChange:r[1]||(r[1]=e=>b(e.target))},null,40,v),[[i.lH,e.checked]])])])))),128))])))),128))])]),(0,l.Lk)("p",null,"Nombre de séries : "+(0,s.v_)(t.value.length),1),(0,l.Lk)("p",null,"Nombre de séries cochées : "+(0,s.v_)(t.value.filter((e=>e.checked)).length),1),(0,l.Lk)("p",null,"Nombre de séries non cochées : "+(0,s.v_)(t.value.filter((e=>!e.checked)).length),1),(0,l.Lk)("p",null,"Nombre de séries modifiées : "+(0,s.v_)(t.value.filter((e=>e.modified)).length),1)],64))}};const f=h;var k=f;function g(e,t){return(0,l.uX)(),(0,l.CE)(l.FK,null,[t[0]||(t[0]=(0,l.Lk)("h2",null,"About Reco",-1)),t[1]||(t[1]=(0,l.Lk)("div",{class:"texte"},[(0,l.Lk)("h3",null,"RECO+ en bref"),(0,l.Lk)("p",{class:"about"},"Si visionner des séries télévisées s’est inscrit au fil des années comme une activité centrale de notre forme de vie contemporaine, les spectateurs ont de plus en plus de mal à se retrouver dans la masse et la variété de l’offre. Il est urgent de mettre en place un système avancé de recommandation sérielle, répondant à la fois aux exigences croissantes de l’industrie des séries et aux besoins et intérêts des téléspectateurs. RECO+ sera un système innovant conçu pour fournir aux spectateurs un classement des séries télévisées en fonction de leurs compétences, demandes et préférences éthiques. L’idée novatrice de RECO+ est d’offrir de meilleures recommandations sérielles en changeant le paradigme, c’est-à-dire en explorant le contenu (vidéo, textuel, scénaristique) des séries, plutôt qu’en traçant les comportements de visionnage. RECO+ se concevra de manière conviviale, en s’appuyant sur une IA pourvue par l’agrégation de données multimodales, interactive et générative. RECO+ s’articule autour de critères éthiques tels que la diversité, l’inclusivité et la durabilité, sera accessible au grand public, tout en étant indépendant des recommandations des diffuseurs. L’innovation RECO+ servira à la fois les utilisateurs, les créateurs et les producteurs.")],-1))],64)}var y=n(1241);const L={},b=(0,y.A)(L,[["render",g]]);var R=b,w={__name:"SelectionPuissance",setup(e){return(e,t)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[t[3]||(t[3]=(0,l.Lk)("h2",null,"Personnalisation des critères",-1)),(0,l.Lk)("ul",null,[(0,l.Lk)("li",null,[(0,l.eW)(" Vidéo : "+(0,s.v_)((0,a.R1)(u).vidéo)+" ",1),(0,l.bo)((0,l.Lk)("input",{type:"range","onUpdate:modelValue":t[0]||(t[0]=e=>(0,a.R1)(u).vidéo=e),min:"0",max:"1",step:"0.01"},null,512),[[i.Jo,(0,a.R1)(u).vidéo]])]),(0,l.Lk)("li",null,[(0,l.eW)(" Scénario : "+(0,s.v_)((0,a.R1)(u).llama_Synopsis)+" ",1),(0,l.bo)((0,l.Lk)("input",{type:"range","onUpdate:modelValue":t[1]||(t[1]=e=>(0,a.R1)(u).llama_Synopsis=e),min:"0",max:"1",step:"0.01"},null,512),[[i.Jo,(0,a.R1)(u).llama_Synopsis]])]),(0,l.Lk)("li",null,[(0,l.eW)(" Audio : "+(0,s.v_)((0,a.R1)(u).audio)+" ",1),(0,l.bo)((0,l.Lk)("input",{type:"range","onUpdate:modelValue":t[2]||(t[2]=e=>(0,a.R1)(u).audio=e),min:"0",max:"1",step:"0.01"},null,512),[[i.Jo,(0,a.R1)(u).audio]])])])],64))}};const C=w;var E=C;n(7588),n(8237);const S={key:0},_={class:"checkbox-wrapper-50"},x={class:"cell-content"},X={class:"serie-title"},O=["src"],F={key:1},N={key:1},j={key:2},K={key:3},I={key:4},V={key:5},A={key:6};var J={__name:"Result",setup(e){const t=(0,a.KR)([]),n=(0,a.KR)([]),i=(0,a.KR)(null),r=["llama_Synopsis","audio","vidéo"];async function c(e){try{const n=await fetch(e);if(!n.ok)throw new Error(`Erreur lors du chargement du fichier CSV : ${n.statusText}`);const i=await n.text(),l=i.split("\n").map((e=>e.split(","))),a=l[0],s=l.slice(1).map((e=>{const t={};return a.forEach(((n,i)=>{t[n]=e[i]})),t}));t.value=s}catch(n){console.error("Erreur lors du chargement du CSV :",n)}}function d(e,t,n){const i=[],l={llama_Synopsis:[1,51],audio:[51,56],"vidéo":[56,Object.keys(n.value[0]).length]};if(t in l){const a=n.value.filter((t=>t["name"]===e));if(a.length>0){const e=l[t],n=Object.keys(a[0]).slice(e[0],e[1]);i.push(...n.map((e=>parseFloat(a[0][e])||0)))}}else console.error("Nom de caractéristique inconnu");return i}function p(e,t){const n=e.reduce(((e,n,i)=>e+n*t[i]),0),i=Math.sqrt(e.reduce(((e,t)=>e+t*t),0)),l=Math.sqrt(t.reduce(((e,t)=>e+t*t),0));return n/(i*l)}function m(e){n.value=t.value.map((n=>{const i=n["name"];if(i===e)return null;const l=r.map((n=>{const l=d(e,n,t),a=d(i,n,t),s=Number(u.value[n])||1;if(0===s)return{similarity:0,weight:0};const r=p(l,a)*s;return{similarity:r,weight:s}})),a=l.reduce(((e,t)=>e+t.weight),0),s=a>0?l.reduce(((e,t)=>e+t.similarity),0)/a:0;return{name:i,similarity:s,details:{llama_Synopsis:l[0].similarity,audio:l[1].similarity,"vidéo":l[2].similarity}}})).filter((e=>null!==e)),n.value.sort(((e,t)=>t.similarity-e.similarity))}function v(e,n){const l=r.map((i=>{const l=d(e,i,t),a=d(n,i,t);return p(l,a)})),a=l.reduce(((e,t)=>e+t),0)/l.length;i.value={serie1:e,serie2:n,similarity:a,details:{llama_Synopsis:l[0],audio:l[1],"vidéo":l[2]}}}function h(){if(1===o.value.length){const e=o.value[0]["name"];m(e)}else if(2===o.value.length){const[e,t]=o.value.map((e=>e["name"]));v(e,t)}}return(0,l.sV)((async()=>{await c("/RECO/data/characteristics.csv"),h()})),(0,l.wB)(o,(()=>{h()})),(e,t)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[t[1]||(t[1]=(0,l.Lk)("h2",null,"Résultats des séries sélectionnées",-1)),(0,a.R1)(o).length>0?((0,l.uX)(),(0,l.CE)("div",S,[(0,l.Lk)("table",null,[(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,a.R1)(o),(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",_,[(0,l.Lk)("div",x,[(0,l.Lk)("p",X,(0,s.v_)(e.name),1),e.image?((0,l.uX)(),(0,l.CE)("img",{key:0,src:e.image,alt:"Image de la série",class:"serie-image"},null,8,O)):(0,l.Q3)("",!0),e.description?((0,l.uX)(),(0,l.CE)("p",F,(0,s.v_)(e.description),1)):(0,l.Q3)("",!0)])])])))),128))])])])):((0,l.uX)(),(0,l.CE)("p",N,"Aucune série sélectionnée.")),t[2]||(t[2]=(0,l.Lk)("h3",null,"Valeurs des sliders :",-1)),(0,l.Lk)("ul",null,[(0,l.Lk)("li",null,"Vidéo : "+(0,s.v_)((0,a.R1)(u).vidéo),1),(0,l.Lk)("li",null,"Scénario : "+(0,s.v_)((0,a.R1)(u).llama_Synopsis),1),(0,l.Lk)("li",null,"Audio : "+(0,s.v_)((0,a.R1)(u).audio),1)]),1===(0,a.R1)(o).length?((0,l.uX)(),(0,l.CE)("h3",j,"Tableau des similarités")):(0,l.Q3)("",!0),n.value.length>0&&1===(0,a.R1)(o).length?((0,l.uX)(),(0,l.CE)("table",K,[t[0]||(t[0]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Série"),(0,l.Lk)("th",null,"Score de Similarité (%)"),(0,l.Lk)("th",null,"llama_Synopsis (%)"),(0,l.Lk)("th",null,"Audio (%)"),(0,l.Lk)("th",null,"Vidéo (%)")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.value,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.name},[(0,l.Lk)("td",null,(0,s.v_)(e.name),1),(0,l.Lk)("td",null,(0,s.v_)((100*e.similarity).toFixed(2)),1),(0,l.Lk)("td",null,(0,s.v_)((100*e.details.llama_Synopsis).toFixed(2)),1),(0,l.Lk)("td",null,(0,s.v_)((100*e.details.audio).toFixed(2)),1),(0,l.Lk)("td",null,(0,s.v_)((100*e.details.vidéo).toFixed(2)),1)])))),128))])])):(0,l.Q3)("",!0),2===(0,a.R1)(o).length?((0,l.uX)(),(0,l.CE)("h3",I,"Comparaison entre deux séries")):(0,l.Q3)("",!0),i.value?((0,l.uX)(),(0,l.CE)("p",V," Similarité entre "+(0,s.v_)(i.value.serie1)+" et "+(0,s.v_)(i.value.serie2)+" : "+(0,s.v_)((100*i.value.similarity).toFixed(2))+"% ",1)):(0,l.Q3)("",!0),i.value?((0,l.uX)(),(0,l.CE)("ul",A,[(0,l.Lk)("li",null,"llama_Synopsis : "+(0,s.v_)((100*i.value.details.llama_Synopsis).toFixed(2))+"%",1),(0,l.Lk)("li",null,"Audio : "+(0,s.v_)((100*i.value.details.audio).toFixed(2))+"%",1),(0,l.Lk)("li",null,"Vidéo : "+(0,s.v_)((100*i.value.details.vidéo).toFixed(2))+"%",1)])):(0,l.Q3)("",!0)],64))}};const P=J;var Q=P,q=n(1737),W=n(6127);const U={class:"top"},B={class:"title-container"},$={key:0,href:"#/"},M={key:0},T={key:1,href:"#/SelectionPuissance"},D={key:0},H={key:2,href:"#/Resultat"},Y={key:3,href:"#/SelectionPuissance"},z={key:4,href:"#/AboutReco",id:"Home"};var G={__name:"App",setup(e){const t=(0,q.C6J)(),n=(0,W.eY)(t),i={"/":k,"/aboutReco":R,"/SelectionPuissance":E,"/Resultat":Q,"/AboutReco":R},s=(0,a.KR)(window.location.hash);let r=!0,o=!1,u=!1;const c=()=>{r="#/"===window.location.hash,o="#/SelectionPuissance"===window.location.hash,u="#/AboutReco"===window.location.hash};s.value&&i[s.value.slice(1)]||(window.location.hash="#/",s.value="#/"),c(),window.addEventListener("hashchange",(()=>{window.location.hash&&i[window.location.hash.slice(1)]||(window.location.hash="#/"),s.value=window.location.hash,c()}));const d=(0,l.EW)((()=>i[s.value.slice(1)||"/"]));return(e,t)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",U,[(0,l.Lk)("div",B,[t[1]||(t[1]=(0,l.Lk)("a",{href:"https://www.cnrs.fr/fr",target:"Fenêtre définie"},[(0,l.Lk)("img",{src:"CNRS.png",alt:"Logo du CNRS",style:{"max-width":"100px","max-height":"100px",top:"10px",left:"10px"}})],-1)),t[2]||(t[2]=(0,l.Lk)("h1",null,"RECO+",-1)),(0,l.Lk)("button",{onClick:t[0]||(t[0]=e=>(0,a.R1)(n)()),class:"dark-mode-toggle"},"Mode Jour/Nuit")])]),(0,l.Lk)("nav",null,[(0,a.R1)(r)?((0,l.uX)(),(0,l.CE)("a",T,[(0,a.R1)(r)?((0,l.uX)(),(0,l.CE)("button",D,"puissance ")):(0,l.Q3)("",!0)])):((0,l.uX)(),(0,l.CE)("a",$,[(0,a.R1)(r)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("button",M,"Catalogue "))])),(0,a.R1)(r)|(0,a.R1)(o)?((0,l.uX)(),(0,l.CE)("a",H,t[3]||(t[3]=[(0,l.Lk)("button",null,"Résultat ",-1)]))):((0,l.uX)(),(0,l.CE)("a",Y,t[4]||(t[4]=[(0,l.Lk)("button",null,"puissance ",-1)]))),(0,a.R1)(u)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("a",z,t[5]||(t[5]=[(0,l.Lk)("button",null,"About Reco ",-1)])))]),(0,l.Lk)("body",null,[((0,l.uX)(),(0,l.Wv)(l.PR,null,[((0,l.uX)(),(0,l.Wv)((0,l.$y)(d.value)))],1024))]),t[6]||(t[6]=(0,l.Fv)('<footer class="fixed_footer"><div class="content"><p>projet réalisé en partenaria avec :</p><a href="https://www.cnrs.fr/fr" target="Fenêtre définie"><img src="CNRS.png" alt="logo du CNRS"></a><a href="https://isjps.pantheonsorbonne.fr/" target="Fenêtre définie"><img src="ISJPS.png" alt="logo du ISJPS"></a><a href="https://jfli.cnrs.fr/" target="Fenêtre définie"><img src="logo-jfli.png" alt="logo du JFLI"></a></div></footer>',1))],64))}};const Z=G;var ee=Z;(0,i.Ef)(ee).mount("#app")}},t={};function n(i){var l=t[i];if(void 0!==l)return l.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,i,l,a){if(!i){var s=1/0;for(c=0;c<e.length;c++){i=e[c][0],l=e[c][1],a=e[c][2];for(var r=!0,o=0;o<i.length;o++)(!1&a||s>=a)&&Object.keys(n.O).every((function(e){return n.O[e](i[o])}))?i.splice(o--,1):(r=!1,a<s&&(s=a));if(r){e.splice(c--,1);var u=l();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[i,l,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var l,a,s=i[0],r=i[1],o=i[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(l in r)n.o(r,l)&&(n.m[l]=r[l]);if(o)var c=o(n)}for(t&&t(i);u<s.length;u++)a=s[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},i=self["webpackChunkreco"]=self["webpackChunkreco"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[504],(function(){return n(1743)}));i=n.O(i)})();
//# sourceMappingURL=app.3a79a9a0.js.map